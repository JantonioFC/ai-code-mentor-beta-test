# Pentest Plan - Round 11 (Advanced Security Assessment)

## 1. Objectives
*   **Primary Goal**: Identify deep systemic vulnerabilities and logic flaws that automated scanners missed.
*   **Type**: "Gray Box" Web Application Penetration Test (Authenticated + Source Code Access).
*   **Target Audience**: Internal Security Team (for remediation) and Management (for risk assessment).

## 2. Scope Definition

### In-Scope Assets
*   **Web Application**: `http://localhost:3000` (Running locally in Production Mode).
*   **API Endpoints**: `http://localhost:3000/api/*`.
*   **Source Code**: Full repository access (Next.js, Node.js, SQLite).
*   **Database**: Local SQLite database `database/sqlite/user_data.db`.

### Out-of-Scope (Excluded)
*   **Third-Party APIs**: Do not explicitly attack Gemini AI, GitHub API, or other external services.
*   **Hosting Infrastructure**: Do not attack localhost/OS network layer (unless specifically scoped for lateral movement).
*   **DoS Attacks**: Volume-based Denial of Service is strictly forbidden to avoid crashing the local dev environment excessively.

## 3. Methodology: Gray Box
*   We simulate an attacker who has:
    1.  **Standard User Access**: Valid credentials for a "Student" account.
    2.  **Partially Compromised Knowledge**: Access to client-side code and API patterns (via source review).
*   **Key Techniques**:
    *   Manual Logic Abuses (e.g., skipping payment steps).
    *   Parameter Tampering (e.g., IDOR on `userId`).
    *   Race Condition testing.

## 4. Rules of Engagement & Prerequisites
*   [x] **Authorization**: Self-authorized by project owner (Juan).
*   [x] **Environment**: Testing on `localhost` (Safe Isolation).
*   [x] **Backups**: Database backed up via `cp database/sqlite/user_data.db database/sqlite/user_data.db.bak` before destructive tests.
*   [ ] **Freeze**: Codebase is frozen at commit `7d7a396`.

## 5. Execution Stages
1.  **Reconnaissance**: Passive checks (Shodan) & Attack Surface Mapping.
2.  **Manual Interception**: Burp Suite testing of critical flows.
3.  **Automated Scanning**: Custom OWASP 2025 Script (`security_scan.py`).
4.  **Exploitation**: Proof of Concept (PoC) for any high-risk findings.

## 6. Reporting
*   Findings will be documented in `docs/security-report.md`.
*   Severity Scale: Critical, High, Medium, Low (CVSS v3.1 based).
